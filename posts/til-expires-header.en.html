<!-- subject: TIL: Browsers ignore Expires header on reload -->
<!-- date: 2019-02-26 13:11:55 -->
<!-- tags: expires, cache-control, http -->
<!-- categories: Articles, Techblog -->

<p>This may have been obvious, but I’ve just learned that browsers
  ignore <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Expires">Expires</a>
  header when the user manually reloads the page (as in by pressing F5 or
  choosing Reload option).

<p>I’ve run into this when testing how Firefox treats pages which ‘never’
  expire.  To my surprise, the browser made requests for files it had a fresh
  copy of in its cache.  To see behaviour much more representative of the
  experience of a returning user, one should select the address bar (Alt+D does
  the trick) and then press Return to navigate to the current page again.
  Hitting Reload is more akin, though not exactly the same, to the first visit.

<p>Of course, all of the above applies to the <code>max-age</code> directive of
  the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control">Cache-Control</a>
  header as well.

<p>Moral of the story? Make sure you test the actual real-life scenarios before
  making any decisions.

<!-- COMMENT -->
<!-- date: 2019-07-10 19:51:16 -->
<!-- nick: Alex Rudenko -->
<!-- nick_url: https://twitter.com/orKoN -->
<!-- nick_email: nyrkrv.ehqraxb@tznvy.pbz -->

<p>I often have problems with cache invalidation in the browsers especially if I use service workers. The latest problem for me was that the browser wouldn't not refresh even on reload because of a badly written service worker.
